-- Generated by CSharp.lua Compiler
local System = System
local SlipeMtaDefinitions
local SlipeServerPeds
local SlipeSharedElements
System.import(function (out)
  SlipeMtaDefinitions = Slipe.MtaDefinitions
  SlipeServerPeds = Slipe.Server.Peds
  SlipeSharedElements = Slipe.Shared.Elements
end)
System.namespace("Slipe.Server.Displays", function (namespace)
  -- <summary>
  -- Represents a text display that's visible to a selection of players
  -- </summary>
  namespace.class("Display", function (namespace)
    local getObservers, AddObserver, AddObservers, RemoveObserver, Destroy, __ctor__
    -- <summary>
    -- Create a new empty display
    -- </summary>
    __ctor__ = function (this)
      this.DisplayElement = SlipeMtaDefinitions.MtaServer.TextCreateDisplay()
    end
    getObservers = function (this)
      local elements = SlipeMtaDefinitions.MtaShared.GetArrayFromTable(SlipeMtaDefinitions.MtaServer.TextDisplayGetObservers(this.DisplayElement), "MTAElement", T)
      return SlipeSharedElements.ElementManager.getInstance():CastArray(elements, SlipeServerPeds.Player)
    end
    -- <summary>
    -- Add a player who can observe this text display
    -- </summary>
    AddObserver = function (this, player)
      SlipeMtaDefinitions.MtaServer.TextDisplayAddObserver(this.DisplayElement, player:getMTAElement())
    end
    -- <summary>
    -- Add multiple players as observers
    -- </summary>
    AddObservers = function (this, players)
      for _, p in System.each(players) do
        AddObserver(this, p)
      end
    end
    -- <summary>
    -- Remove an observer
    -- </summary>
    RemoveObserver = function (this, player)
      return SlipeMtaDefinitions.MtaServer.TextDisplayRemoveObserver(this.DisplayElement, player:getMTAElement())
    end
    -- <summary>
    -- Destroy this display
    -- </summary>
    Destroy = function (this)
      return SlipeMtaDefinitions.MtaServer.TextDestroyDisplay(this.DisplayElement)
    end
    return {
      getObservers = getObservers,
      AddObserver = AddObserver,
      AddObservers = AddObservers,
      RemoveObserver = RemoveObserver,
      Destroy = Destroy,
      __ctor__ = __ctor__,
      __metadata__ = function (out)
        return {
          properties = {
            { "DisplayElement", 0x6, out.Slipe.MtaDefinitions.MtaElement },
            { "Observers", 0x206, System.Array(out.Slipe.Server.Peds.Player), getObservers }
          },
          methods = {
            { ".ctor", 0x6, nil },
            { "AddObserver", 0x106, AddObserver, out.Slipe.Server.Peds.Player },
            { "AddObservers", 0x106, AddObservers, System.Array(out.Slipe.Server.Peds.Player) },
            { "Destroy", 0x86, Destroy, System.Boolean },
            { "RemoveObserver", 0x186, RemoveObserver, out.Slipe.Server.Peds.Player, System.Boolean }
          },
          class = { 0x6 }
        }
      end
    }
  end)
end)
