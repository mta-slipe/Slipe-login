-- Generated by CSharp.lua Compiler
local System = System
local SlipeClientResources
local SlipeMtaDefinitions
local SlipeSharedElements
local DictObjectResource
System.import(function (out)
  SlipeClientResources = Slipe.Client.Resources
  SlipeMtaDefinitions = Slipe.MtaDefinitions
  SlipeSharedElements = Slipe.Shared.Elements
  DictObjectResource = System.Dictionary(System.Object, SlipeClientResources.Resource)
end)
System.namespace("Slipe.Client.Resources", function (namespace)
  -- <summary>
  -- Represents an MTA resource
  -- </summary>
  namespace.class("Resource", function (namespace)
    local resources, thisResource, getThis, getGuiRoot, Get, Get1, HandleStart, HandleStop, 
    class, static, __ctor1__, __ctor2__
    static = function (this)
      resources = DictObjectResource()
    end
    __ctor1__ = function (this, resource)
      resources:AddKeyValue(resource, this)
      this.MtaResource = resource
    end
    -- <summary>
    -- Only used to extend a specific resource class
    -- </summary>
    __ctor2__ = function (this, name)
      __ctor1__(this, SlipeMtaDefinitions.MtaShared.GetResourceFromName(name))
    end
    getThis = function ()
      thisResource = thisResource or Get(SlipeMtaDefinitions.MtaShared.GetThisResource())
      return thisResource
    end
    getGuiRoot = function (this)
      return SlipeSharedElements.ElementManager.getInstance():GetElement1(SlipeMtaDefinitions.MtaClient.GetResourceGUIElement(this.MtaResource))
    end
    Get = function (resource)
      if resource == nil then
        return nil
      end
      if not resources:ContainsKey(resource) then
        return class(resource)
      end
      return resources:get(resource)
    end
    -- <summary>
    -- This function is used to retrieve a resource from its name. A resource's name is the same as its folder or file archive name on the server (without the extension).
    -- </summary>
    Get1 = function (name)
      return Get(SlipeMtaDefinitions.MtaShared.GetResourceFromName(name))
    end
    HandleStart = function (this)
      local default = this.OnStart
      if default ~= nil then
        default()
      end
    end
    HandleStop = function (this)
      local default = this.OnStop
      if default ~= nil then
        default()
      end
    end
    class = {
      __inherits__ = function (out)
        return {
          out.Slipe.Shared.Resources.SharedResource
        }
      end,
      getThis = getThis,
      getGuiRoot = getGuiRoot,
      Get = Get,
      Get1 = Get1,
      HandleStart = HandleStart,
      HandleStop = HandleStop,
      static = static,
      __ctor__ = {
        __ctor1__,
        __ctor2__
      },
      __metadata__ = function (out)
        return {
          fields = {
            { "resources", 0x9, System.Dictionary(System.Object, out.Slipe.Client.Resources.Resource) },
            { "thisResource", 0x9, class }
          },
          properties = {
            { "GuiRoot", 0x206, out.Slipe.Shared.Elements.Element, getGuiRoot },
            { "This", 0x20E, class, getThis }
          },
          methods = {
            { ".ctor", 0x104, __ctor1__, out.Slipe.MtaDefinitions.MtaResource },
            { ".ctor", 0x103, __ctor2__, System.String },
            { "Get", 0x18C, Get, out.Slipe.MtaDefinitions.MtaResource, class },
            { "Get", 0x18E, Get1, System.String, class },
            { "HandleStart", 0x4, HandleStart },
            { "HandleStop", 0x4, HandleStop }
          },
          events = {
            { "OnStart", 0x6, System.Delegate },
            { "OnStop", 0x6, System.Delegate }
          },
          class = { 0x6 }
        }
      end
    }
    return class
  end)
end)
